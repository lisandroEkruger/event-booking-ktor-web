<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">

<head>
    <meta charset="UTF-8"/>
    <link th:href="@{https://cdn.jsdelivr.net/npm/bootstrap@5.3.5/dist/css/bootstrap.min.css}" rel="stylesheet"
          integrity="sha384-SgOJa3DmI69IUzQ2PVdRZhwQ+dy64/BUtbMJw1MZ8t5HZApcHrRKUc4W0kG879m7" crossorigin="anonymous"/>
    <link rel="stylesheet" th:href="@{/css/index.css}"/>
    <title>Listado de Entidades</title>
</head>

<body class="listing-page-body">

<main class="main-content-area">
    <nav class="main-navigation">
        <div class="text-center">
            <a th:href="@{/event/create}" class="btn btn-success btn-sm nav-action-button">Agregar Nuevo Evento</a>
        </div>
        <div class="text-center">
            <a th:href="@{/notification/create}" class="btn btn-success btn-sm nav-action-button">Agregar Nueva
                Notificación</a>
        </div>
        <div class="text-center">
            <a th:href="@{/participant/create}" class="btn btn-success btn-sm nav-action-button">Agregar Nuevo
                Participante</a>
        </div>
        <div class="text-center">
            <a th:href="@{/ticket/create}" class="btn btn-success btn-sm nav-action-button">Agregar Nuevo Ticket</a>
        </div>
        <div class="text-center">
            <a th:href="@{/venue/create}" class="btn btn-success btn-sm nav-action-button">Agregar Nuevo Lugar</a>
        </div>
    </nav>

    <section>
        <h1 class="text-center section-title">Listado de Eventos</h1>
        <div class="item-grid-container">
            <div th:each="event : ${events}" class="card item-display-card">
                <div class="card-body item-card-body-custom-padding">
                    <h5 class="card-title item-card-title" th:text="${event.name}">Nombre del evento</h5>
                    <form th:action="@{/event/update/{id}(id=${event.id_event})}" method="post"
                          class="d-flex update-action-group">
                        <input type="hidden" th:name="${_csrf.parameterName}" th:value="${_csrf.token}"/>
                        <input type="text" name="name" th:value="${event.name}" class="form-control card-update-input"
                               placeholder="Nuevo nombre" required/>
                        <button type="submit" class="btn btn-warning card-action-button-warning">Actualizar</button>
                    </form>
                    <form th:action="@{/event/delete/{id}(id=${event.id_event})}" method="post"
                          style="display: inline;">
                        <input type="hidden" th:name="${_csrf.parameterName}" th:value="${_csrf.token}"/>
                        <button class="btn btn-danger w-100 card-action-button-danger" type="submit">Eliminar</button>
                    </form>
                </div>
            </div>
        </div>
    </section>

    <section>
        <h1 class="text-center section-title">Listado de Notificaciones</h1>
        <div class="item-grid-container">
            <div th:each="notification : ${notifications}" class="card item-display-card">
                <div class="card-body item-card-body-custom-padding">
                    <h5 class="card-title item-card-title" th:text="${notification.message}">Mensaje de la
                        notificación</h5>
                    <form th:action="@{/notification/update/{id}(id=${notification.id_notification})}" method="post"
                          class="d-flex update-action-group">
                        <input type="hidden" th:name="${_csrf.parameterName}" th:value="${_csrf.token}"/>
                        <input type="text" name="message" th:value="${notification.message}"
                               class="form-control card-update-input" placeholder="Nuevo mensaje" required/>
                        <button type="submit" class="btn btn-warning card-action-button-warning">Actualizar</button>
                    </form>
                    <form th:action="@{/notification/delete/{id}(id=${notification.id_notification})}" method="post"
                          style="display: inline;">
                        <input type="hidden" th:name="${_csrf.parameterName}" th:value="${_csrf.token}"/>
                        <button class="btn btn-danger w-100 card-action-button-danger" type="submit">Eliminar</button>
                    </form>
                </div>
            </div>
        </div>
    </section>

    <section>
        <h1 class="text-center section-title">Listado de Participantes</h1>
        <div class="item-grid-container">
            <div th:each="participant : ${participants}" class="card item-display-card">
                <div class="card-body item-card-body-custom-padding">
                    <h5 class="card-title item-card-title"
                        th:text="${participant.firstName + ' ' + participant.lastName}">Nombre del participante</h5>
                    <form th:action="@{/participant/update/{id}(id=${participant.id_participant})}" method="post"
                          class="d-flex update-action-group">
                        <input type="hidden" th:name="${_csrf.parameterName}" th:value="${_csrf.token}"/>
                        <input type="text" name="firstName" th:value="${participant.firstName}"
                               class="form-control card-update-input" placeholder="Nuevo nombre" required/>
                        <button type="submit" class="btn btn-warning card-action-button-warning">Actualizar</button>
                    </form>
                    <form th:action="@{/participant/delete/{id}(id=${participant.id_participant})}" method="post"
                          style="display: inline;">
                        <input type="hidden" th:name="${_csrf.parameterName}" th:value="${_csrf.token}"/>
                        <button class="btn btn-danger w-100 card-action-button-danger" type="submit">Eliminar</button>
                    </form>
                </div>
            </div>
        </div>
    </section>

    <section>
        <h1 class="text-center section-title">Listado de Tickets</h1>
        <div class="item-grid-container">
            <div th:each="ticket : ${tickets}" class="card item-display-card">
                <div class="card-body item-card-body-custom-padding">
                    <h5 class="card-title item-card-title" th:text="'Asiento: ' + ${ticket.seatNumber}">Número de
                        asiento</h5>
                    <form th:action="@{/ticket/update/{id}(id=${ticket.id_ticket})}" method="post"
                          class="d-flex update-action-group">
                        <input type="hidden" th:name="${_csrf.parameterName}" th:value="${_csrf.token}"/>
                        <input type="text" name="seatNumber" th:value="${ticket.seatNumber}"
                               class="form-control card-update-input" placeholder="Nuevo número de asiento" required/>
                        <button type="submit" class="btn btn-warning card-action-button-warning">Actualizar</button>
                    </form>
                    <form th:action="@{/ticket/delete/{id}(id=${ticket.id_ticket})}" method="post"
                          style="display: inline;">
                        <input type="hidden" th:name="${_csrf.parameterName}" th:value="${_csrf.token}"/>
                        <button class="btn btn-danger w-100 card-action-button-danger" type="submit">Eliminar</button>
                    </form>
                </div>
            </div>
        </div>
    </section>

    <section>
        <h1 class="text-center section-title">Listado de Lugares</h1>
        <div class="item-grid-container">
            <div th:each="venue : ${venues}" class="card item-display-card">
                <div class="card-body item-card-body-custom-padding">
                    <h5 class="card-title item-card-title" th:text="${venue.name}">Nombre del lugar</h5>
                    <form th:action="@{/venue/update/{id}(id=${venue.id_venue})}" method="post"
                          class="d-flex update-action-group">
                        <input type="hidden" th:name="${_csrf.parameterName}" th:value="${_csrf.token}"/>
                        <input type="text" name="name" th:value="${venue.name}"
                               class="form-control card-update-input" placeholder="Nuevo nombre" required/>
                        <button type="submit" class="btn btn-warning card-action-button-warning">Actualizar</button>
                    </form>
                    <form th:action="@{/venue/delete/{id}(id=${venue.id_venue})}" method="post"
                          style="display: inline;">
                        <input type="hidden" th:name="${_csrf.parameterName}" th:value="${_csrf.token}"/>
                        <button class="btn btn-danger w-100 card-action-button-danger" type="submit">Eliminar</button>
                    </form>
                </div>
            </div>
        </div>
    </section>
</main>

<script th:src="@{https://cdn.jsdelivr.net/npm/bootstrap@5.3.5/dist/js/bootstrap.bundle.min.js}"
        integrity="sha384-k6d4wzSIapyDyv1kpU366/PK5hCdSbCRGRCMv+eplOQJWyd1fbcAu9OCUj5zNLiq"
        crossorigin="anonymous"></script>
</body>

</html>